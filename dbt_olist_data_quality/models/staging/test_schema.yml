version: 2

models:
  - name: stg_customers
    description: "Staging table for customer data - source for dim_customer"
    columns:
      - name: customer_id
        description: "Primary key - unique customer identifier"
        tests:
          - unique
          - not_null
      - name: customer_zip_code_prefix
        description: "Brazilian zip code (5 digits)"
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_match_regex:
              regex: "^[0-9]{5}$"
